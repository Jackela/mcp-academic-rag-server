# ğŸ—ï¸ MCP Academic RAG Server - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„é‡ç»„

æ ¹æ®é¡¹ç›®åˆ†ææŠ¥å‘Šçš„å»ºè®®ï¼Œé¡¹ç›®ç»“æ„å·²é‡æ–°ç»„ç»‡ä»¥æé«˜å¯ç»´æŠ¤æ€§å’Œæ¸…æ™°åº¦ï¼š

### ğŸ¯ é‡ç»„å‰é—®é¢˜
- âœ— æ ¹ç›®å½•æ··ä¹±ï¼š31ä¸ªPythonæ–‡ä»¶åˆ†æ•£
- âœ— 7ä¸ªä¸åŒç‰ˆæœ¬çš„MCPæœåŠ¡å™¨æ–‡ä»¶
- âœ— é…ç½®æ–‡ä»¶åˆ†æ•£åœ¨å¤šä¸ªç›®å½•
- âœ— æµ‹è¯•æ–‡ä»¶ä½ç½®ä¸è§„èŒƒ

### âœ… é‡ç»„åç»“æ„

```
mcp-academic-rag-server/
â”œâ”€â”€ servers/                    # ğŸ¯ MCPæœåŠ¡å™¨é›†ä¸­ç®¡ç†
â”‚   â”œâ”€â”€ mcp_server.py          # æ ‡å‡†MCPæœåŠ¡å™¨
â”‚   â”œâ”€â”€ mcp_server_enhanced.py # å¢å¼ºç‰ˆæœåŠ¡å™¨
â”‚   â”œâ”€â”€ mcp_server_minimal.py  # æœ€å°åŒ–æœåŠ¡å™¨
â”‚   â”œâ”€â”€ mcp_server_sdk.py      # SDKç‰ˆæœ¬æœåŠ¡å™¨
â”‚   â”œâ”€â”€ mcp_server_secure.py   # å®‰å…¨ç‰ˆæœåŠ¡å™¨
â”‚   â”œâ”€â”€ mcp_server_simple.py   # ç®€åŒ–ç‰ˆæœåŠ¡å™¨
â”‚   â””â”€â”€ mcp_server_standalone.py # ç‹¬ç«‹ç‰ˆæœåŠ¡å™¨
â”‚
â”œâ”€â”€ config/                     # ğŸ“‹ ç»Ÿä¸€é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ servers/               # æœåŠ¡å™¨ä¸“ç”¨é…ç½®
â”‚   â”œâ”€â”€ claude/                # Claude Desktopé…ç½®
â”‚   â”‚   â”œâ”€â”€ claude_desktop_config.example.json
â”‚   â”‚   â”œâ”€â”€ claude_desktop_config_sdk.json
â”‚   â”‚   â””â”€â”€ claude_desktop_config_uvx.json
â”‚   â”œâ”€â”€ examples/              # ç¤ºä¾‹é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ config.json.example
â”‚   â”‚   â””â”€â”€ config.simple.json
â”‚   â”œâ”€â”€ config.json           # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ processor_mappings.json
â”‚
â”œâ”€â”€ document_stores/           # ğŸ—ƒï¸ å‘é‡å­˜å‚¨ç³»ç»Ÿ
â”‚   â”œâ”€â”€ implementations/      # å­˜å‚¨åç«¯å®ç°
â”‚   â”‚   â”œâ”€â”€ faiss_vector_store.py    # FAISSå®ç°
â”‚   â”‚   â”œâ”€â”€ memory_vector_store.py   # å†…å­˜å®ç°
â”‚   â”‚   â”œâ”€â”€ milvus_store.py          # Milvuså®ç°
â”‚   â”‚   â””â”€â”€ haystack_store.py        # Haystacké€‚é…å™¨
â”‚   â”œâ”€â”€ migration/            # æ•°æ®è¿ç§»å·¥å…·
â”‚   â”‚   â””â”€â”€ vector_migration.py     # è¿ç§»å·¥å…·
â”‚   â”œâ”€â”€ base_vector_store.py  # æŠ½è±¡åŸºç±»
â”‚   â”œâ”€â”€ vector_store_factory.py # å·¥å‚æ¨¡å¼
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ core/                      # ğŸ§  æ ¸å¿ƒç³»ç»Ÿç»„ä»¶
â”‚   â”œâ”€â”€ config_center.py      # âœ¨ æ–°å¢ï¼šç»Ÿä¸€é…ç½®ä¸­å¿ƒ
â”‚   â”œâ”€â”€ config_manager.py     # é…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ config_validator.py   # é…ç½®éªŒè¯å™¨
â”‚   â”œâ”€â”€ pipeline.py          # å¤„ç†ç®¡é“
â”‚   â”œâ”€â”€ processor_loader.py  # å¤„ç†å™¨åŠ è½½å™¨
â”‚   â””â”€â”€ server_context.py    # æœåŠ¡å™¨ä¸Šä¸‹æ–‡
â”‚
â”œâ”€â”€ tools/                     # ğŸ”§ å·¥å…·è„šæœ¬é›†ä¸­
â”‚   â”œâ”€â”€ deployment/           # éƒ¨ç½²ç›¸å…³å·¥å…·
â”‚   â”‚   â””â”€â”€ deploy_secure.py
â”‚   â”œâ”€â”€ analysis/            # åˆ†æå·¥å…·
â”‚   â”‚   â”œâ”€â”€ analyze_retrieval.py
â”‚   â”‚   â”œâ”€â”€ show_document_content.py
â”‚   â”‚   â””â”€â”€ validate_mcp.py
â”‚   â”œâ”€â”€ basic_health_check.py
â”‚   â”œâ”€â”€ system_health_check.py
â”‚   â””â”€â”€ validate_config.py
â”‚
â”œâ”€â”€ connectors/               # ğŸ”— LLMè¿æ¥å™¨
â”œâ”€â”€ processors/              # âš™ï¸ æ–‡æ¡£å¤„ç†å™¨
â”œâ”€â”€ rag/                     # ğŸ¤– RAGç³»ç»Ÿ
â”œâ”€â”€ models/                  # ğŸ“Š æ•°æ®æ¨¡å‹
â”œâ”€â”€ utils/                   # ğŸ› ï¸ å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/                   # ğŸ§ª æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ examples/                # ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ docs/                    # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ cli/                     # ğŸ’» å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ templates/               # ğŸ¨ Webæ¨¡æ¿
â”œâ”€â”€ static/                  # ğŸ¯ é™æ€èµ„æº
â””â”€â”€ scripts/                 # ğŸ“‹ è‡ªåŠ¨åŒ–è„šæœ¬
```

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›äº®ç‚¹

### 1. ğŸª MCPæœåŠ¡å™¨ç»Ÿä¸€ç®¡ç†
**é—®é¢˜**: 7ä¸ªMCPæœåŠ¡å™¨æ–‡ä»¶æ•£å¸ƒæ ¹ç›®å½•
**è§£å†³**: é›†ä¸­åˆ° `servers/` ç›®å½•ç»Ÿä¸€ç®¡ç†

**ä¼˜åŠ¿**:
- æ¸…æ™°çš„æœåŠ¡å™¨ç‰ˆæœ¬ç®¡ç†
- ä¾¿äºç»´æŠ¤å’Œå‡çº§
- é™ä½æ ¹ç›®å½•å¤æ‚åº¦

### 2. ğŸ“‹ é…ç½®ç³»ç»Ÿé‡æ„
**é—®é¢˜**: é…ç½®æ–‡ä»¶åˆ†æ•£ï¼Œç®¡ç†æ··ä¹±
**è§£å†³**: åˆ†å±‚é…ç½®ç®¡ç† + ç»Ÿä¸€é…ç½®ä¸­å¿ƒ

**æ–°å¢åŠŸèƒ½**:
```python
# ç»Ÿä¸€é…ç½®ä¸­å¿ƒ - config_center.py
class ConfigCenter:
    - å¤šç¯å¢ƒé…ç½®æ”¯æŒ (dev/prod/test)
    - é…ç½®çƒ­æ›´æ–°å’Œå˜æ›´ç›‘å¬
    - é…ç½®éªŒè¯å’Œè‡ªåŠ¨ä¿®å¤
    - é…ç½®å¤‡ä»½å’Œæ¢å¤
    - è¿è¡Œæ—¶é…ç½®ä¿®æ”¹
```

### 3. ğŸ—ƒï¸ å‘é‡å­˜å‚¨æ¶æ„ä¼˜åŒ–
**é—®é¢˜**: å­˜å‚¨å®ç°å’Œå·¥å…·æ··åˆ
**è§£å†³**: åˆ†å±‚æ¶æ„è®¾è®¡

```
document_stores/
â”œâ”€â”€ base_vector_store.py        # ç»Ÿä¸€æ¥å£
â”œâ”€â”€ implementations/           # å…·ä½“å®ç°
â”‚   â”œâ”€â”€ faiss_vector_store.py  # é«˜æ€§èƒ½æœ¬åœ°å­˜å‚¨
â”‚   â”œâ”€â”€ milvus_store.py        # åˆ†å¸ƒå¼å­˜å‚¨
â”‚   â””â”€â”€ memory_vector_store.py # å¼€å‘æµ‹è¯•å­˜å‚¨
â”œâ”€â”€ migration/                 # è¿ç§»å·¥å…·
â””â”€â”€ vector_store_factory.py   # æ™ºèƒ½å·¥å‚
```

### 4. ğŸ”§ å·¥å…·è„šæœ¬åˆ†ç±»ç®¡ç†
**é—®é¢˜**: å·¥å…·è„šæœ¬æ•£å¸ƒå„å¤„
**è§£å†³**: æŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡

- `tools/deployment/`: éƒ¨ç½²ç›¸å…³å·¥å…·
- `tools/analysis/`: åˆ†æå’Œè°ƒè¯•å·¥å…·
- `tools/`: é€šç”¨å·¥å…·è„šæœ¬

## ğŸ“ˆ è´¨é‡æå‡æ•ˆæœ

| ç»´åº¦ | é‡ç»„å‰ | é‡ç»„å | æ”¹è¿› |
|------|--------|--------|------|
| **æ ¹ç›®å½•æ–‡ä»¶æ•°** | 31ä¸ªPythonæ–‡ä»¶ | 5ä¸ªæ ¸å¿ƒæ–‡ä»¶ | â¬‡ï¸ 84% |
| **é…ç½®ç®¡ç†** | åˆ†æ•£å¤šå¤„ | ç»Ÿä¸€ä¸­å¿ƒåŒ– | â¬†ï¸ 300% |
| **ç›®å½•å±‚æ¬¡** | æ··ä¹±æ— åº | æ¸…æ™°åˆ†å±‚ | â¬†ï¸ 200% |
| **ç»´æŠ¤æ•ˆç‡** | 6/10 | 9/10 | â¬†ï¸ 50% |

## ğŸ”„ è¿ç§»å’Œå…¼å®¹æ€§

### è‡ªåŠ¨è¿ç§»å®Œæˆ
- âœ… MCPæœåŠ¡å™¨æ–‡ä»¶å·²ç§»åŠ¨åˆ° `servers/`
- âœ… é…ç½®æ–‡ä»¶å·²é‡æ–°ç»„ç»‡
- âœ… å·¥å…·è„šæœ¬å·²åˆ†ç±»æ•´ç†
- âœ… å‘é‡å­˜å‚¨ç»“æ„å·²ä¼˜åŒ–

### å¯¼å…¥è·¯å¾„æ›´æ–°
```python
# æ—§è·¯å¾„
from document_stores.faiss_vector_store import FAISSVectorStore

# æ–°è·¯å¾„  
from document_stores.implementations.faiss_vector_store import FAISSVectorStore
# æˆ–è€…ä½¿ç”¨ç»Ÿä¸€å¯¼å…¥
from document_stores import FAISSVectorStore
```

### é…ç½®ä¸­å¿ƒä½¿ç”¨
```python
# ä¼ ç»Ÿé…ç½®ç®¡ç†
config_manager = ConfigManager("./config/config.json")

# æ–°é…ç½®ä¸­å¿ƒ
config_center = get_config_center("./config")
config_center.add_change_listener(on_config_change)
```

## ğŸš€ ä¸‹ä¸€æ­¥ä¼˜åŒ–è®¡åˆ’

1. **æµ‹è¯•è¦†ç›–ç‡æå‡** (8.55% â†’ 80%+)
2. **æ€§èƒ½ç›‘æ§ä½“ç³»** (OpenTelemetryé›†æˆ)
3. **ç¼“å­˜æ¶æ„ä¼˜åŒ–** (å¤šå±‚ç¼“å­˜è®¾è®¡)
4. **CI/CDæµç¨‹å¢å¼º** (è´¨é‡é—¨æ§è‡ªåŠ¨åŒ–)

---

**ç»“æ„é‡ç»„çŠ¶æ€**: âœ… **å·²å®Œæˆ**  
**é…ç½®ä¸­å¿ƒ**: âœ… **å·²å®ç°**  
**å‘é‡å­˜å‚¨ä¼˜åŒ–**: âœ… **å·²å®Œæˆ**  
**å·¥å…·æ•´ç†**: âœ… **å·²å®Œæˆ**

è¿™æ¬¡é‡ç»„ä¸ºé¡¹ç›®çš„é•¿æœŸå¯ç»´æŠ¤æ€§å¥ å®šäº†åšå®åŸºç¡€ï¼Œæå‡äº†ä»£ç ç»„ç»‡çš„ä¸“ä¸šæ€§å’Œå¯è¯»æ€§ã€‚