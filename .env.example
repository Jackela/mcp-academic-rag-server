# MCP Academic RAG Server Configuration
# Copy this file to .env and fill in your actual values

# ===========================
# Application Settings
# ===========================
# Environment: development, staging, production
ENVIRONMENT=development
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Flask secret key for sessions (generate a secure random string)
SECRET_KEY=your-secret-key-here
# Flask environment
FLASK_ENV=development

# ===========================
# Storage Configuration
# ===========================
# Base path for data storage
DATA_PATH=./data
# Output path for processed files
OUTPUT_PATH=./output
# Log files directory
LOG_PATH=./logs
# Upload folder for web interface
UPLOAD_FOLDER=./uploads
# Documents path for bulk processing
DOCUMENTS_PATH=./documents

# ===========================
# Docker Volume Directory
# ===========================
# Directory for docker volumes (use absolute path in production)
DOCKER_VOLUME_DIRECTORY=./docker-volumes

# ===========================
# Database Configuration
# ===========================
# Milvus Vector Database
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_DATABASE=default
MILVUS_COLLECTION=academic_documents
MILVUS_USER=
MILVUS_PASSWORD=
# Redis Cache (optional)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# ===========================
# API Keys and Endpoints
# ===========================
# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Azure OpenAI Configuration (optional)
AZURE_API_KEY=your-azure-api-key
AZURE_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_API_VERSION=2023-05-15
AZURE_DEPLOYMENT_NAME=your-deployment-name

# Anthropic Configuration (optional)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Google Cloud Configuration (optional)
GOOGLE_API_KEY=your-google-api-key
GOOGLE_PROJECT_ID=your-project-id

# Baidu AI Configuration (optional)
BAIDU_APP_ID=your-baidu-app-id
BAIDU_API_KEY=your-baidu-api-key
BAIDU_SECRET_KEY=your-baidu-secret-key

# HuggingFace Configuration (optional)
HUGGINGFACE_API_KEY=your-huggingface-api-key

# ===========================
# OCR Service Configuration
# ===========================
# OCR Provider: azure, google, baidu, tesseract
OCR_PROVIDER=azure
# Language settings
OCR_LANGUAGE=zh-Hans

# ===========================
# Security Configuration
# ===========================
# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:5000
# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=600
# Session timeout (minutes)
SESSION_TIMEOUT=60

# ===========================
# Performance Settings
# ===========================
# Maximum concurrent document processing
MAX_CONCURRENT_DOCUMENTS=10
# Maximum concurrent processors per document
MAX_CONCURRENT_PROCESSORS=5
# Chunk size for text processing
CHUNK_SIZE=500
CHUNK_OVERLAP=50
# Batch size for embedding generation
EMBEDDING_BATCH_SIZE=32

# ===========================
# Monitoring Configuration
# ===========================
# Prometheus metrics endpoint
ENABLE_METRICS=true
METRICS_PORT=9090
# Grafana admin password
GRAFANA_PASSWORD=admin
# OpenTelemetry configuration (optional)
OTEL_EXPORTER_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=academic-rag-server

# ===========================
# Development Settings
# ===========================
# Debug mode (never enable in production)
DEBUG=false
# Hot reload
HOT_RELOAD=false
# Profile performance
PROFILE_ENABLED=false

# ===========================
# MCP Server Configuration
# ===========================
# MCP server host and port
MCP_HOST=0.0.0.0
MCP_PORT=8000
# MCP server name and version
MCP_SERVER_NAME=academic-rag-server
MCP_SERVER_VERSION=1.0.0

# ===========================
# Web Application Settings
# ===========================
# Web server configuration
WEB_HOST=0.0.0.0
WEB_PORT=5000
# Maximum upload file size (in MB)
MAX_UPLOAD_SIZE=16
# Session cookie settings
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ===========================
# Email Configuration (optional)
# ===========================
# SMTP settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true
NOTIFICATION_EMAIL=admin@example.com

# ===========================
# Backup Configuration
# ===========================
# Backup settings
ENABLE_BACKUP=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# ===========================
# Feature Flags
# ===========================
ENABLE_KNOWLEDGE_GRAPH=true
ENABLE_CLASSIFICATION=true
ENABLE_FORMAT_CONVERSION=true
ENABLE_ASYNC_PROCESSING=true
ENABLE_CACHING=true
ENABLE_HEALTH_CHECK=true